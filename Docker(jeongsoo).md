# Docker



- 애플리케이션을 포장하고, 옮기고, “**컨테이너**”들 안에서 실행할 수 있게 하는 유용한 툴
- 도커는 리눅스 컨테이너에 여러 기능을 추가함으로서 애플리케이션을 컨테이너로서 쉽게 사용할 수 있도록 만들어진 오픈 소스
- 가상 머신과 달리 도커 컨테이너는 성능의 손실이 거의 없는 장점 (도커는 게스트 OS를 없애고 호스트 OS의 시스템 콜을 직접 호출해 사용하여 더욱 가볍게 동작)
- 도커를 사용하면 호스트 OS 위에서 바로 돌리는 것과 비슷한 성능 수준



# 컨테이너와 가상 머신(VM) 비교 



**![VM vs Containerr](https://cdn-images-1.medium.com/max/1600/1*wOBkzBpi1Hl9Nr__Jszplg.png)**

### VM 방식

-  VM 방식은 ***하이퍼바이저**라는 논리적 OS 플랫폼 위에 새로운 os를 설치
-  따라서 어플리케이션 실행 시 이미지+OS 와 통신해야 하는 구조라서 성능문제 발생할 수 있음 (이미지: 소스코드 + 컴파일된실행파일)

***하이퍼바이저** - VM이 실행되는 소프트웨어나 펌웨어, 혹은 하드웨어를 뜻하며, 하이퍼바이저들은 호스트 머신이라 불리는 물리적 기계 위에서 돌아가고, 호스트 머신은 VM에 램과 CPU 등의 자원을 제공. 하이퍼바이저는 VM들이 각자 자신의 가상 운영체제, 즉 게스트 운영체제를 실행하고 관리할 수 있게끔 돕는 중요한 역할과 더불어, 호스트 머신들이 자원들을 VM들에게 분배할 수 있도록 도와줌

### Container

-  컨테이너는 guest OS 가 없는 리눅스로, 컨테이너 방식에서는 guest OS 없이 host OS의 자원을 다같이 공유
-  따라서 프로세스가 격리되어 가볍고 속도가 빠르며 CPU, 메모리는 프로세스가 필요한 만큼만 사용하기 때문에 성능 손실이 적음
-  VM과 달리 컨테이너는 호스트 시스템의 커널을 다른 컨테이너들과 공유 (컨테이너는 유저 공간만을 포함하고, VM에는 포함되는 커널이나 가상 하드웨어가 포함되지 않음 (즉, 운영체제 단계의 아키텍처를 모든 컨테이너가 공유)

### Docker

-  도커는 컨테이너로 실행하기 때문에 속도가 빠름 
-  초기에는 리눅스 컨테이너로 개발했으나 0.9버전에서는 libcontainer기술 사용



# Docker Container의 이점



## 빠르고 **가벼운** **가상화** **솔루션** 

- 호스트의 운영체제를 공유해 필요한 최소한의 리소스만 할당받아 동작하는 방식
- 매번 하나의 완전한 가상 운영체제를 부팅해야하는 VM과는 달리, 도커 컨테이너는 몇 초면 실행 가능
- 단일 호스트에서 다중 워크로드를 구동할 수 있기 때문에 하이퍼바이저 기반 가상화솔루션에 비해 훨씬 더 가볍게 가상화 환경 구성 가능

## **간편한** 사용성

- 개발자 입장에서는 시스템 환경에 대해 신경쓰지 않고 개발에 집중 가능
- 개발 언어나 툴에 상관없이 어떠한 애플리케이션이라도 만들 수 있으며, Docker에서 만들어진 애플리케이션은 이동성이 좋아지고 어디서나 실행 가능

## 뛰어난 **보안성**

- 서비스가 해킹되더라도 격리되어있어 원래의 서버에 영향을 미치지 않는 구조
- 개발자, 시스템 관리자, 아키텍트 등 누구든지 컨테이너의 이점을 이용해서 손쉽게 이동성 있는 애플리케이션을 생성, 테스트 (한번의 빌드로 어디에서든 실행)

## 모듈성과 **확장성**

- 도커를 통해 애플리케이션의 기능들을 각각의 컨테이너들로 쉽게 분리 가능 (각 컨테이너를 연결해 애플리케이션 구성 가능)
- 각각의 컴포넌트에 대해 따로 업데이트하거나 스케일링을 하기 쉬워짐



# Docker 적용 사례



- 구글: 지메일부터 자사의 서비스를 관리하기 위해 약 20억개의 컨테이너 운영
- MS(Microsoft) : Windows Server 2016에섯 도커 적용

- 아마존 : AWS에서 도커 활용 가능

  

